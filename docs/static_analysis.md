# Static Analysis

## PC-lint Plus Linting

### Running Analysis

This template project uses PC-lint Plus to statically analyze source code.  Before using PC-lint Plus work with Engineering Productivity to ensure you are properly licensed.  Upon entry, the container automatically downloads a PC-lint Plus license, provided the host machine is connected to the Plexus network and can get to the Artifactory instance hosting the license.  This is intentional and avoids inadvertantly providing access to customer co-developers to the Plexus PC-lint Plus license.

Similar to how clangd indexing works (because they are both based on compilation databases), PC-lint Plus static analysis purview depends on a developer's currently selected build target.  To analyze the current build target press the `Analyze` button on the status bar (which runs the `Lint: Build Target` task).

!!! note
    The `all` target is a special case, where a separate analysis is performed for each target comprising the `all` target.

Single file analysis is performed automatically upon file save (provided the file being saved is part of the currently selected build target).  In the case of target analysis, VS Code displays PC-lint Plus output in the terminal window.  Also, this template project includes a problem matchers for all linting tasks so that any lint that is found also shows up within the VS Code problems panel.

!!! tip
    When viewing the Problems Panel you can define a `(lint)` filter to only show lint findings.

The latest version of PC-lint Plus (v2.2) leverages Clang 18 as the front-end and therefore supports up to a subset of C++20 features.  This means that if teams use C++20 within this template, they need to be mindful of which features are and are not supported.  If unsupported features are used, PC-lint Plus will likely generate errors during analysis.  Refer to [this Clang documentation](https://clang.llvm.org/cxx_status.html) for the list of features supported by Clang 18.

!!! tip
    Consider a workflow where only file linting is performed locally, and project linting is done as part of a Continuous Intergration pipeline.

### User Manual

Developers can use the `Lint: Open PCLP Manual` task to open the PC-lint Plus PDF directly in VS Code.  Among other things, this documentation contains more descriptive information about how PC-lint Plus works and the lint it may identify.

### Configuration

For more information about how developer's can configure PC-lint Plus static analysis, see [this page](./unlisted/pclp.md).  This page also provides detail around the "design" for the CMake and scripting wrap of PC-lint Plus.

### Issue Tracking

For a list of known issues related to PC-lint Plus, see [this Jira board](https://eng.plexus.com/jira/secure/RapidBoard.jspa?rapidView=2746&projectKey=PLXSEP).

### Alternative: Clang-Tidy

Clang-Tidy is a potential alternative to PC-lint Plus.  For more information about Clang-Tidy, see [this page](./unlisted/clang-tidy.md).

## Lizard Cyclomatic Complexity

Additionally, the Lizard package has been included to assist in calculating cyclomatic complexity.  Reports can be be generated by running the VS Code task named `Lizard: Serve Report on localhost:8001`.  More detailed configuration instructions can be found [here](./unlisted/lizard.md).
